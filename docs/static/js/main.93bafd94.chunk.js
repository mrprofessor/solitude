(this.webpackJsonpsolitude=this.webpackJsonpsolitude||[]).push([[0],{103:function(e,t,n){},118:function(e,t,n){},390:function(e,t,n){},391:function(e,t,n){},392:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(33),c=n.n(o),i=n(90),l=n(11),u=function(e){return{type:"UPDATE_PANE_SIZE",size:e}},s=n(35),h=n(77),d=(n(103),function(e){var t=e.onViewModeChange;return r.a.createElement("div",{className:"appbar"},r.a.createElement("div",{className:"logo"},r.a.createElement("span",null,"Solitude")),r.a.createElement("div",{className:"modebar"},r.a.createElement(s.b,{width:"22",height:"22",onClick:function(){return t("100%")}}),r.a.createElement(s.a,{width:"22",height:"22",onClick:function(){return t("50%")}}),r.a.createElement(h.a,{width:"22",height:"22",onClick:function(){return t("0%")}})))}),f=Object(l.b)(null,(function(e){return{onViewModeChange:function(t){return e(u(t))}}}))(d),E=n(93),m=n(78),g=(n(105),n(106),n(55),n(107),n(108),n(109),n(110),n(111),n(112),n(57),n(115),n(117),n(118),function(e){var t=e.onValueChange,n=e.onSelectedEditorChange,a=e.markdownValue;return r.a.createElement(m.Controlled,{options:{mode:"gfm",lineNumbers:!0,spellcheck:!0,theme:"neo"},value:a,onBeforeChange:function(e,n,a){t(a)},onSelection:function(e,t){n(e)},height:"100%"})}),p=Object(l.b)((function(e){return{markdownValue:e.markdownValue}}),(function(e){return{onValueChange:function(t){return e({type:"UPDATE_MARKDOWN_VALUE",text:t})},onSelectedEditorChange:function(t){return e({type:"UPDATE_EDITOR_STATE",editorState:t})}}}))(g),b=n(79),v=n.n(b),w=n(80),k=n(81),S=n(91),C=n(82),_=n(92),O=n(399),T=n(398),j=function(e){function t(){return Object(w.a)(this,t),Object(S.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props,t=e.language,n=e.value;return r.a.createElement(O.a,{language:t,style:T.a},n)}}]),t}(a.PureComponent);j.defaultProps={language:null};var P=j,y=Object(l.b)((function(e){return{markdownValue:e.markdownValue}}))((function(e){var t=e.markdownValue;return console.log(t),r.a.createElement(v.a,{source:t,escapeHtml:!1,renderers:{code:P}})})),A=function(e){var t=e.paneSize,n=e.onPaneSizeChange;return r.a.createElement(E.a,{split:"vertical",defaultSize:t,size:t,onDragFinished:function(e){return n(e)}},r.a.createElement("div",{className:"editor-pane"},"0%"!==t&&r.a.createElement(p,null)),r.a.createElement("div",{className:"result-pane"},r.a.createElement(y,null)))},N=Object(l.b)((function(e){return{paneSize:e.splitPane.size}}),(function(e){return{onPaneSizeChange:function(t){return e(u(t))}}}))(A),D=n(18),I=n(89),U=n(85),V=n(51),z=n(38);function R(){var e=Object(U.a)(["\n  {\n    viewer {\n      repositories(first: 100) {\n        totalCount\n        pageInfo {\n          endCursor\n          hasNextPage\n        }\n        nodes {\n          name\n          owner {\n            login\n          }\n        }\n      }\n    }\n  }\n"]);return R=function(){return e},e}var B=Object(z.b)(R()),x=function(){var e=Object(V.a)(B),t=e.loading,n=e.error,a=e.data;return console.log(t,n,a),r.a.createElement(r.a.Fragment,null,a&&a.viewer.repositories.totalCount)},L=n(88),W=n(52),$=function(e){var t=e.type,n=void 0===t?"":t,a=e.editorState;if(Object(W.isEmpty)(a))return null;var r=a.getSelection(),o=a.getCursor();switch(n){case"header":a.setCursor(o.line,0);var c=a.getCursor().line,i=a.getCursor().ch,l=a.findWordAt({line:c,ch:i}).anchor.ch,u=a.findWordAt({line:c,ch:i}).head.ch;if(a.setSelection({line:c,ch:l},{line:c,ch:u}),r=a.getSelection(),/^#{1,5}$/.test(r))a.replaceSelection(r+"#");else{if(/^#{6,}$/.test(r))break;a.replaceSelection("# "+r)}a.focus();break;case"bold":a.replaceSelection("**"+(r||" ")+"**"),a.focus();break;case"italic":a.replaceSelection("*"+(r||" ")+"*"),a.focus();break;case"strikethrough":a.replaceSelection("~~"+(r||" ")+"~~"),a.focus();break;case"hr":a.setCursor(o.line+1,0),a.replaceSelection("\n\n---\n"),a.focus();break;case(n.match(/h[1-6]{1}/)||{}).input:a.setCursor(o.line,0),a.replaceSelection("#".repeat(Number(n[1]))+" "),a.focus();break;case"table":a.setCursor(o.line,0),a.replaceSelection("\n| Tables        | Are           | Cool  |\n| ------------- |:-------------:| -----:|\n| col 3 is      | right-aligned | $1600 |\n| col 2 is      | centered      |   $12 |\n| zebra stripes | are neat      |    $1 |\n"),a.focus();break;case"code":a.replaceSelection("\n```language\n".concat(r,"\n```\n")),a.focus();break;default:a.replaceSelection(r)}},H=function(e){var t=e.editorState,n=e.token;return r.a.createElement("div",{className:"toolbar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(D.c,{width:"22",height:"22",onClick:function(){return $({type:"header",editorState:t})}})),r.a.createElement("li",null,r.a.createElement(D.a,{width:"22",height:"22",onClick:function(){return $({type:"bold",editorState:t})}})),r.a.createElement("li",null,r.a.createElement(D.d,{width:"22",height:"22",onClick:function(){return $({type:"italic",editorState:t})}})),r.a.createElement("li",null,r.a.createElement(D.g,{width:"22",height:"22",onClick:function(){return $({type:"strikethrough",editorState:t})}})),r.a.createElement("li",null,r.a.createElement(D.e,{width:"22",height:"22",onClick:function(){return $({type:"hr",editorState:t})}})),r.a.createElement("li",null,r.a.createElement(D.h,{width:"22",height:"22",onClick:function(){return $({type:"table",editorState:t})}})),r.a.createElement("li",null,r.a.createElement(D.b,{width:"22",height:"22",onClick:function(){return $({type:"code",editorState:t})}}))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"https://github.com/login/oauth/authorize?client_id=".concat(L.GITHUB_APP_CLIENT_ID,"&scope=repo")},r.a.createElement(I.a,{width:"22",height:"20"}),n&&r.a.createElement(r.a.Fragment,null," ","(",r.a.createElement(x,null),")"))),r.a.createElement("li",null,r.a.createElement(D.f,{width:"22",height:"22"}))))},K=Object(l.b)((function(e){return{editorState:e.editor,token:e.auth.token}}))(H),M=n(9),X=function(e){return new z.a({uri:"https://api.github.com/graphql",request:function(t){t.setContext({headers:{authorization:e?"Bearer ".concat(e):""}})}})};n(390),n(391),n(392);var F=Object(l.b)(null,(function(e){return{onTokenChange:function(t){return e(function(e){return{type:"UPDATE_TOKEN",token:e}}(t))}}}))((function(e){var t=e.onTokenChange,n=Object(a.useState)(""),o=Object(i.a)(n,2),c=o[0],l=o[1];Object(a.useEffect)((function(){var e=window.location.href.match(/\?code=(.*)/)&&window.location.href.match(/\?code=(.*)/)[1];e&&fetch("https://prose-gatekeeper.glitch.me/authenticate/".concat(e)).then((function(e){return e.json()})).then((function(e){var n=e.error,a=e.token;if(n)throw Error(n);console.log(a),l(a),t(a)})).catch((function(e){console.log(e)}))}),[]);var u=X(c);return r.a.createElement("div",null,r.a.createElement(M.a,{client:u},r.a.createElement(f,null),r.a.createElement(K,null),r.a.createElement(N,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=n(22),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_EDITOR_STATE":return t.editorState||e;default:return e}},q=n(39),Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{size:"50%"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PANE_SIZE":return Object(q.a)({},e,{size:t.size});default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_MARKDOWN_VALUE":return t.text;default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{token:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TOKEN":return Object(q.a)({},e,{token:t.token});default:return e}},ee=Object(G.b)({markdownValue:Q,editor:J,splitPane:Z,auth:Y}),te=Object(G.c)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(l.a,{store:te},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},88:function(e){e.exports=JSON.parse('{"GITHUB_APP_CLIENT_ID":"b4b9cca2169de74f183e","GITHUB_APP_REDIRECT_URI":"http://localhost:3000/"}')},94:function(e,t,n){e.exports=n(393)}},[[94,1,2]]]);
//# sourceMappingURL=main.93bafd94.chunk.js.map